# é¢„è®¾ä¸è‡ªå®šä¹‰è¿‡æ»¤å™¨ç»„åˆä½¿ç”¨è¯´æ˜

## ğŸ‰ æ–°åŠŸèƒ½

ç°åœ¨æ”¯æŒ**åŒæ—¶ä½¿ç”¨é¢„è®¾å’Œè‡ªå®šä¹‰è¿‡æ»¤å™¨**ï¼

### æ ¸å¿ƒç‰¹æ€§

1. âœ… **é¢„è®¾å’Œè‡ªå®šä¹‰å¯ä»¥å…±å­˜**
2. âœ… **å†²çªæ—¶è‡ªå®šä¹‰ä¼˜å…ˆ**
3. âœ… **æ”¯æŒåŒæ—¶è®¾ç½®ç™½åå•å’Œé»‘åå•**

---

## ğŸ“‹ é…ç½®æ–¹å¼

### æ–¹å¼ 1ï¼šåªä½¿ç”¨é¢„è®¾ï¼ˆæ¨èå¸¸è§„ä½¿ç”¨ï¼‰

```json
{
  "path": "D:\\Projects",
  "enabled": true,
  "presets": ["code", "common_blacklist"]
}
```

**æ•ˆæœ**ï¼šå¤‡ä»½ä»£ç æ–‡ä»¶ï¼Œæ’é™¤ä¸´æ—¶æ–‡ä»¶

---

### æ–¹å¼ 2ï¼šåªä½¿ç”¨è‡ªå®šä¹‰è¿‡æ»¤å™¨

#### å•æ¨¡å¼ï¼ˆç™½åå•æˆ–é»‘åå•ï¼‰

```json
{
  "path": "D:\\Projects",
  "enabled": true,
  "presets": [],
  "filter": {
    "mode": "whitelist",
    "extensions": [".py", ".js", ".cpp"]
  }
}
```

**æ•ˆæœ**ï¼šåªå¤‡ä»½ Pythonã€JavaScript å’Œ C++ æ–‡ä»¶

---

### æ–¹å¼ 3ï¼šé¢„è®¾ + è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼ˆæ–°åŠŸèƒ½ï¼ï¼‰

#### 3.1 é¢„è®¾ + è‡ªå®šä¹‰é»‘åå•

```json
{
  "path": "D:\\Projects",
  "enabled": true,
  "presets": ["code"],
  "filter": {
    "blacklist": [".log", ".tmp", ".cache"]
  }
}
```

**æ•ˆæœ**ï¼š
- ä» `code` é¢„è®¾è·å–ç™½åå•ï¼ˆ.py, .js, .cpp ç­‰ï¼‰
- é¢å¤–æ’é™¤ .log, .tmp, .cache æ–‡ä»¶
- **æœ€ç»ˆ**ï¼šå¤‡ä»½ä»£ç æ–‡ä»¶ï¼Œä½†æ’é™¤æ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶

---

#### 3.2 é¢„è®¾ + è‡ªå®šä¹‰ç™½åå•ï¼ˆè¦†ç›–é¢„è®¾ï¼‰

```json
{
  "path": "D:\\Projects",
  "enabled": true,
  "presets": ["code", "documents"],
  "filter": {
    "whitelist": [".py", ".md"]
  }
}
```

**æ•ˆæœ**ï¼š
- é¢„è®¾æä¾›äº†å¾ˆå¤šæ–‡ä»¶ç±»å‹
- ä½†è‡ªå®šä¹‰ç™½åå•**è¦†ç›–**é¢„è®¾
- **æœ€ç»ˆ**ï¼šåªå¤‡ä»½ .py å’Œ .md æ–‡ä»¶

---

### æ–¹å¼ 4ï¼šåŒåˆ—è¡¨æ¨¡å¼ï¼ˆæœ€å¼ºå¤§ï¼ï¼‰

```json
{
  "path": "D:\\Projects",
  "enabled": true,
  "presets": ["code"],
  "filter": {
    "whitelist": [".py", ".js", ".cpp", ".h"],
    "blacklist": [".pyc", ".log", ".tmp"]
  }
}
```

**æ•ˆæœ**ï¼š
- ç™½åå•ï¼šåªè€ƒè™‘è¿™äº›æ–‡ä»¶ç±»å‹
- é»‘åå•ï¼šä»ç™½åå•ä¸­æ’é™¤è¿™äº›
- **æœ€ç»ˆ**ï¼šå¤‡ä»½ .py, .js, .cpp, .hï¼Œä½†æ’é™¤ .pyc, .log, .tmp

**è§„åˆ™**ï¼š
1. å¦‚æœåœ¨é»‘åå•ä¸­ â†’ æ‹’ç»
2. å¦‚æœæœ‰ç™½åå•ä¸”ä¸åœ¨ç™½åå•ä¸­ â†’ æ‹’ç»  
3. å…¶ä»–æƒ…å†µ â†’ å…è®¸

---

## ğŸ¯ å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šPython é¡¹ç›®ï¼ˆæ’é™¤ç¼–è¯‘æ–‡ä»¶ï¼‰

```json
{
  "path": "D:\\Projects\\PythonApp",
  "enabled": true,
  "presets": ["code", "common_blacklist"],
  "filter": {
    "blacklist": [".pyc", ".pyo", ".pyd", "__pycache__"]
  }
}
```

**è¯´æ˜**ï¼š
- ä½¿ç”¨ `code` é¢„è®¾å¤‡ä»½ä»£ç æ–‡ä»¶
- ä½¿ç”¨ `common_blacklist` æ’é™¤å¸¸è§ä¸´æ—¶æ–‡ä»¶
- é¢å¤–æ’é™¤ Python ç¼–è¯‘æ–‡ä»¶

---

### åœºæ™¯ 2ï¼šå‰ç«¯é¡¹ç›®ï¼ˆåªè¦æºä»£ç ï¼‰

```json
{
  "path": "D:\\Projects\\WebApp",
  "enabled": true,
  "presets": [],
  "filter": {
    "whitelist": [
      ".js", ".ts", ".jsx", ".tsx",
      ".vue", ".html", ".css", ".scss",
      ".json", ".yaml", ".md"
    ],
    "blacklist": [".min.js", ".min.css"]
  }
}
```

**è¯´æ˜**ï¼š
- ç™½åå•æŒ‡å®šå‰ç«¯æ–‡ä»¶ç±»å‹
- é»‘åå•æ’é™¤å‹ç¼©åçš„æ–‡ä»¶

---

### åœºæ™¯ 3ï¼šæ–‡æ¡£é¡¹ç›®ï¼ˆé¢„è®¾ + é¢å¤–ç±»å‹ï¼‰

```json
{
  "path": "D:\\Documents",
  "enabled": true,
  "presets": ["documents", "images"],
  "filter": {
    "whitelist": [".xmind", ".drawio"],
    "blacklist": []
  }
}
```

**è¯´æ˜**ï¼š
- é¢„è®¾æä¾›å¸¸è§æ–‡æ¡£å’Œå›¾ç‰‡æ ¼å¼
- å¦‚æœè‡ªå®šä¹‰ç™½åå•ä¸ºç©ºï¼Œä½¿ç”¨é¢„è®¾çš„ç™½åå•
- å¯ä»¥æ·»åŠ é¢å¤–çš„é»‘åå•

---

### åœºæ™¯ 4ï¼šä»£ç é¡¹ç›®ï¼ˆç²¾ç¡®æ§åˆ¶ï¼‰

```json
{
  "path": "D:\\Projects\\CppApp",
  "enabled": true,
  "presets": ["common_blacklist"],
  "filter": {
    "whitelist": [
      ".cpp", ".cc", ".cxx", ".c",
      ".h", ".hpp", ".hxx",
      ".cmake", ".txt", ".md"
    ],
    "blacklist": [".o", ".obj", ".exe", ".dll"]
  }
}
```

**è¯´æ˜**ï¼š
- åªä½¿ç”¨ `common_blacklist` é¢„è®¾ï¼ˆæ’é™¤ä¸´æ—¶æ–‡ä»¶ï¼‰
- è‡ªå®šä¹‰ç™½åå•æŒ‡å®š C++ é¡¹ç›®æ–‡ä»¶
- é¢å¤–é»‘åå•æ’é™¤ç¼–è¯‘äº§ç‰©

---

## ğŸ“– é…ç½®è§„åˆ™è¯¦è§£

### ä¼˜å…ˆçº§è§„åˆ™

```
è‡ªå®šä¹‰ç™½åå• > é¢„è®¾ç™½åå• > è‡ªå®šä¹‰é»‘åå• > é¢„è®¾é»‘åå•
```

### åˆå¹¶è§„åˆ™

#### 1. åªæœ‰é¢„è®¾
```json
"presets": ["code", "common_blacklist"]
```
- åˆå¹¶æ‰€æœ‰é¢„è®¾çš„ç™½åå•å’Œé»‘åå•
- ç™½åå•ä¼˜å…ˆçº§é«˜äºé»‘åå•

#### 2. åªæœ‰è‡ªå®šä¹‰
```json
"filter": {
  "whitelist": [".py"],
  "blacklist": [".pyc"]
}
```
- åªä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™
- å¿½ç•¥é¢„è®¾

#### 3. é¢„è®¾ + è‡ªå®šä¹‰ç™½åå•
```json
"presets": ["code"],
"filter": {
  "whitelist": [".py", ".js"]
}
```
- **è‡ªå®šä¹‰ç™½åå•è¦†ç›–é¢„è®¾ç™½åå•**
- é¢„è®¾é»‘åå•ä»ç„¶ç”Ÿæ•ˆ

#### 4. é¢„è®¾ + è‡ªå®šä¹‰é»‘åå•
```json
"presets": ["code"],
"filter": {
  "blacklist": [".log", ".tmp"]
}
```
- ä½¿ç”¨é¢„è®¾ç™½åå•
- **åˆå¹¶**é¢„è®¾é»‘åå•å’Œè‡ªå®šä¹‰é»‘åå•

#### 5. é¢„è®¾ + åŒåˆ—è¡¨
```json
"presets": ["code"],
"filter": {
  "whitelist": [".py", ".js"],
  "blacklist": [".pyc", ".log"]
}
```
- è‡ªå®šä¹‰ç™½åå•è¦†ç›–é¢„è®¾ç™½åå•
- åˆå¹¶é¢„è®¾é»‘åå•å’Œè‡ªå®šä¹‰é»‘åå•

---

## ğŸ” åˆ¤æ–­é€»è¾‘

### åŒåˆ—è¡¨æ¨¡å¼åˆ¤æ–­æµç¨‹

```
æ–‡ä»¶æ‰©å±•å: .py

1. æ£€æŸ¥é»‘åå•
   â”œâ”€ åœ¨é»‘åå•ä¸­? â†’ âŒ æ‹’ç»
   â””â”€ ä¸åœ¨é»‘åå•ä¸­ â†’ ç»§ç»­

2. æ£€æŸ¥ç™½åå•
   â”œâ”€ æœ‰ç™½åå•?
   â”‚  â”œâ”€ åœ¨ç™½åå•ä¸­? â†’ âœ… å…è®¸
   â”‚  â””â”€ ä¸åœ¨ç™½åå•ä¸­? â†’ âŒ æ‹’ç»
   â””â”€ æ²¡æœ‰ç™½åå•? â†’ âœ… å…è®¸
```

### ç¤ºä¾‹

#### ç¤ºä¾‹ 1
```json
"filter": {
  "whitelist": [".py", ".js"],
  "blacklist": [".pyc"]
}
```

| æ–‡ä»¶ | åœ¨ç™½åå• | åœ¨é»‘åå• | ç»“æœ |
|------|----------|----------|------|
| test.py | âœ… | âŒ | âœ… å…è®¸ |
| test.pyc | âŒ | âœ… | âŒ æ‹’ç» |
| test.js | âœ… | âŒ | âœ… å…è®¸ |
| test.txt | âŒ | âŒ | âŒ æ‹’ç»ï¼ˆä¸åœ¨ç™½åå•ï¼‰ |

#### ç¤ºä¾‹ 2
```json
"filter": {
  "whitelist": [],
  "blacklist": [".log", ".tmp"]
}
```

| æ–‡ä»¶ | åœ¨ç™½åå• | åœ¨é»‘åå• | ç»“æœ |
|------|----------|----------|------|
| test.py | - | âŒ | âœ… å…è®¸ï¼ˆæ— ç™½åå•ï¼‰ |
| test.log | - | âœ… | âŒ æ‹’ç» |
| test.txt | - | âŒ | âœ… å…è®¸ï¼ˆæ— ç™½åå•ï¼‰ |

---

## âš™ï¸ é…ç½®ç¤ºä¾‹

### å®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "backup_destination_base": "D:\\Backups",
  "strategy": {
    "retention_days": 30,
    "max_versions_per_file": 10,
    "enable_compression": true,
    "compression_level": 6
  },
  "backup_sources": [
    {
      "_comment": "Pythoné¡¹ç›®ï¼šä½¿ç”¨é¢„è®¾ + é¢å¤–æ’é™¤",
      "path": "D:\\Projects\\PythonApp",
      "enabled": true,
      "presets": ["code", "common_blacklist"],
      "filter": {
        "blacklist": [".pyc", ".pyo", "__pycache__"]
      }
    },
    {
      "_comment": "å‰ç«¯é¡¹ç›®ï¼šç²¾ç¡®ç™½åå• + æ’é™¤å‹ç¼©æ–‡ä»¶",
      "path": "D:\\Projects\\WebApp",
      "enabled": true,
      "presets": [],
      "filter": {
        "whitelist": [".js", ".ts", ".vue", ".html", ".css", ".json"],
        "blacklist": [".min.js", ".min.css"]
      }
    },
    {
      "_comment": "æ–‡æ¡£é¡¹ç›®ï¼šåªä½¿ç”¨é¢„è®¾",
      "path": "D:\\Documents",
      "enabled": true,
      "presets": ["documents", "images", "common_blacklist"]
    },
    {
      "_comment": "C++é¡¹ç›®ï¼šè‡ªå®šä¹‰ç™½åå• + é¢„è®¾é»‘åå•",
      "path": "D:\\Projects\\CppApp",
      "enabled": true,
      "presets": ["common_blacklist", "build_artifacts"],
      "filter": {
        "whitelist": [".cpp", ".h", ".hpp", ".cmake", ".txt"]
      }
    }
  ]
}
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: é¢„è®¾å’Œè‡ªå®šä¹‰è¿‡æ»¤å™¨ä¼šå†²çªå—ï¼Ÿ

**ç­”**ï¼šä¸ä¼šï¼ç°åœ¨å®ƒä»¬å¯ä»¥å’Œè°å…±å­˜ï¼š
- è‡ªå®šä¹‰ç™½åå•ä¼šè¦†ç›–é¢„è®¾ç™½åå•
- è‡ªå®šä¹‰é»‘åå•ä¼šä¸é¢„è®¾é»‘åå•åˆå¹¶
- é»‘åå•ä¼˜å…ˆçº§æœ€é«˜

### Q2: å¦‚ä½•åªä½¿ç”¨é¢„è®¾çš„é»‘åå•ï¼Œä¸è¦ç™½åå•ï¼Ÿ

**ç­”**ï¼š
```json
{
  "presets": ["common_blacklist"],
  "filter": {
    "whitelist": [],
    "blacklist": []
  }
}
```

æˆ–è€…ç®€å•åœ°ï¼š
```json
{
  "presets": ["common_blacklist"]
}
```

### Q3: ç™½åå•å’Œé»‘åå•å¯ä»¥åŒæ—¶è®¾ç½®å—ï¼Ÿ

**ç­”**ï¼šå¯ä»¥ï¼è¿™å°±æ˜¯åŒåˆ—è¡¨æ¨¡å¼çš„ä¼˜åŠ¿ï¼š
```json
"filter": {
  "whitelist": [".py", ".js"],
  "blacklist": [".pyc", ".min.js"]
}
```

### Q4: å¦‚ä½•æµ‹è¯•æˆ‘çš„é…ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ

**ç­”**ï¼š
1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶ï¼ˆå¦‚ test.py, test.pyc, test.txtï¼‰
2. ä¿®æ”¹æ–‡ä»¶å†…å®¹è§¦å‘å¤‡ä»½
3. æŸ¥çœ‹å¤‡ä»½ç›®å½•ï¼Œç¡®è®¤åªå¤‡ä»½äº†é¢„æœŸçš„æ–‡ä»¶
4. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`å¤‡ä»½ç›®å½•/æ—¥æœŸ/backup_log_*.log`

### Q5: æ—§çš„é…ç½®æ ¼å¼è¿˜èƒ½ç”¨å—ï¼Ÿ

**ç­”**ï¼šå®Œå…¨å…¼å®¹ï¼æ—§çš„å•æ¨¡å¼é…ç½®ä»ç„¶æœ‰æ•ˆï¼š
```json
"filter": {
  "mode": "whitelist",
  "extensions": [".py", ".js"]
}
```

---

## ğŸ“Š é…ç½®å¯¹æ¯”

| é…ç½®æ–¹å¼ | çµæ´»æ€§ | å¤æ‚åº¦ | æ¨èåœºæ™¯ |
|----------|--------|--------|----------|
| åªç”¨é¢„è®¾ | â­â­ | â­ | å¸¸è§„é¡¹ç›® |
| åªç”¨è‡ªå®šä¹‰ | â­â­â­ | â­â­ | ç‰¹æ®Šéœ€æ±‚ |
| é¢„è®¾+è‡ªå®šä¹‰ | â­â­â­â­ | â­â­â­ | å¤æ‚é¡¹ç›® |
| åŒåˆ—è¡¨æ¨¡å¼ | â­â­â­â­â­ | â­â­â­â­ | ç²¾ç¡®æ§åˆ¶ |

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. ä»ç®€å•å¼€å§‹
```json
"presets": ["code", "common_blacklist"]
```

### 2. éœ€è¦æ—¶æ·»åŠ è‡ªå®šä¹‰
```json
"presets": ["code", "common_blacklist"],
"filter": {
  "blacklist": [".pyc", ".log"]
}
```

### 3. ç²¾ç¡®æ§åˆ¶æ—¶ä½¿ç”¨åŒåˆ—è¡¨
```json
"presets": [],
"filter": {
  "whitelist": [".py", ".js", ".cpp"],
  "blacklist": [".pyc", ".min.js", ".o"]
}
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **é…ç½®æ–‡ä»¶ä½ç½®**ï¼š`config.json`
- **é¢„è®¾æ–‡ä»¶ä½ç½®**ï¼š`presets.json`
- **æ—¥å¿—æ–‡ä»¶ä½ç½®**ï¼š`å¤‡ä»½ç›®å½•/æ—¥æœŸ/backup_log_*.log`
- **ç›¸å…³æ–‡æ¡£**ï¼š
  - `è‡ªå®šä¹‰è¿‡æ»¤å™¨é…ç½®è¯´æ˜.md`
  - `å¿«é€Ÿé…ç½®å‚è€ƒ.md`
  - `å¤‡ä»½é…ç½®æ–‡ä»¶/README.md`

---

**ç°åœ¨ä½ å¯ä»¥çµæ´»ç»„åˆé¢„è®¾å’Œè‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œå®ç°ç²¾ç¡®çš„å¤‡ä»½æ§åˆ¶ï¼** ğŸ‰
